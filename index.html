<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perpustakaan Digital PERGUNU Situbondo</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --color-primary: #2c3e50;
            --color-secondary: #3498db;
            --color-accent: #e74c3c;
            --color-success: #27ae60;
            --color-error: #e74c3c;
            --color-warning: #f39c12;
            --color-info: #3498db;
            --color-dark: #1a1a2e;
            --color-light: #f8f9fa;
            --color-text: #333;
            --color-text-light: #777;
            --color-bg: #f5f7fa;
            --color-card: #fff;
            --color-border: #e0e0e0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: var(--color-bg);
            color: var(--color-text);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            line-height: 1.6;
        }

        /* Dark Theme */
        body.dark-theme {
            --color-primary: #3498db;
            --color-secondary: #2c3e50;
            --color-bg: #1a1a2e;
            --color-card: #16213e;
            --color-text: #f8f9fa;
            --color-text-light: #b8b8b8;
            --color-border: #2a2a4a;
        }

        /* Particle Background */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
            opacity: 0.3;
        }

        /* Container Styles */
        .container {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
            position: relative;
        }

        .logo {
            height: 100px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .header h1 {
            font-size: 2.5rem;
            color: var(--color-primary);
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            color: var(--color-text-light);
            max-width: 800px;
            margin: 0 auto;
        }

        /* Navigation */
        .navbar {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
            padding: 15px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .nav-logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            text-decoration: none;
        }

        .nav-menu {
            display: flex;
            list-style: none;
        }

        .nav-item {
            margin-left: 30px;
        }

        .nav-link {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 5px 0;
        }

        .nav-link:hover {
            color: rgba(255, 255, 255, 0.8);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: white;
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Card Styles */
        .card {
            background: var(--color-card);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
            transition: all 0.3s ease;
            border: 1px solid var(--color-border);
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--color-border);
        }

        .card-title {
            font-size: 1.5rem;
            color: var(--color-primary);
            font-weight: 600;
        }

        .card-actions {
            display: flex;
            gap: 10px;
        }

        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 8px;
            background: var(--color-secondary);
            color: white;
            text-decoration: none;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
            margin: 5px;
            text-align: center;
            font-size: 1rem;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.4);
            background: #2980b9;
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--color-secondary);
            color: var(--color-secondary);
        }

        .btn-outline:hover {
            background: var(--color-secondary);
            color: white;
        }

        .btn-success {
            background: var(--color-success);
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .btn-success:hover {
            background: #219955;
            box-shadow: 0 8px 20px rgba(39, 174, 96, 0.4);
        }

        .btn-danger {
            background: var(--color-error);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .btn-danger:hover {
            background: #c0392b;
            box-shadow: 0 8px 20px rgba(231, 76, 60, 0.4);
        }

        .btn-warning {
            background: var(--color-warning);
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
        }

        .btn-warning:hover {
            background: #d35400;
            box-shadow: 0 8px 20px rgba(243, 156, 18, 0.4);
        }

        .btn-info {
            background: var(--color-info);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .btn-info:hover {
            background: #2980b9;
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.4);
        }

        .btn-accent {
            background: var(--color-accent);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .btn-accent:hover {
            background: #c0392b;
            box-shadow: 0 8px 20px rgba(231, 76, 60, 0.4);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--color-text);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid var(--color-border);
            background: var(--color-card);
            color: var(--color-text);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-secondary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .form-text {
            font-size: 0.875rem;
            color: var(--color-text-light);
            margin-top: 5px;
        }

        /* Search Bar */
        .search-bar {
            display: flex;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .search-input {
            flex: 1;
            padding: 15px 20px;
            border: none;
            font-size: 16px;
            outline: none;
            background: var(--color-card);
            color: var(--color-text);
        }

        .search-btn {
            padding: 0 25px;
            background: var(--color-secondary);
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-btn:hover {
            background: #2980b9;
        }

        /* Book Grid */
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .book-card {
            background: var(--color-card);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .book-cover {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid var(--color-border);
        }

        .book-details {
            padding: 20px;
        }

        .book-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--color-primary);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .book-author {
            font-size: 0.9rem;
            color: var(--color-text-light);
            margin-bottom: 10px;
        }

        .book-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            font-size: 0.9rem;
        }

        .book-category {
            background: var(--color-secondary);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .book-rating {
            color: var(--color-warning);
            font-weight: 600;
        }

        .book-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--color-accent);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            z-index: 1;
        }

        /* Book Detail Page */
        .book-detail {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 40px;
            margin-top: 30px;
        }

        .book-cover-large {
            width: 100%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .book-info {
            display: flex;
            flex-direction: column;
        }

        .book-title-large {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--color-primary);
        }

        .book-author-large {
            font-size: 1.2rem;
            color: var(--color-text-light);
            margin-bottom: 20px;
        }

        .book-description {
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .book-meta-large {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .book-meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        .book-actions {
            display: flex;
            gap: 15px;
            margin-top: auto;
        }

        /* Categories */
        .categories-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }

        .category-card {
            background: var(--color-card);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            flex: 1 1 200px;
            text-align: center;
            border: 1px solid var(--color-border);
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-color: var(--color-secondary);
        }

        .category-icon {
            font-size: 2rem;
            color: var(--color-secondary);
            margin-bottom: 15px;
        }

        .category-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--color-primary);
        }

        .category-count {
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        /* User Dashboard */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .dashboard-card {
            background: var(--color-card);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border: 1px solid var(--color-border);
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .dashboard-card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .dashboard-card-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(52, 152, 219, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--color-secondary);
            font-size: 1.2rem;
        }

        .dashboard-card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--color-primary);
        }

        .dashboard-card-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-secondary);
            margin-bottom: 10px;
        }

        .dashboard-card-text {
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        /* Reading List */
        .reading-list {
            margin-top: 30px;
        }

        .reading-list-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid var(--color-border);
            transition: all 0.3s ease;
        }

        .reading-list-item:hover {
            background: rgba(52, 152, 219, 0.05);
        }

        .reading-list-cover {
            width: 60px;
            height: 80px;
            object-fit: cover;
            border-radius: 4px;
            margin-right: 20px;
        }

        .reading-list-details {
            flex: 1;
        }

        .reading-list-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--color-primary);
        }

        .reading-list-author {
            font-size: 0.9rem;
            color: var(--color-text-light);
            margin-bottom: 5px;
        }

        .reading-list-progress {
            width: 100%;
            height: 5px;
            background: #e0e0e0;
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }

        .reading-list-progress-bar {
            height: 100%;
            background: var(--color-secondary);
            border-radius: 5px;
        }

        .reading-list-actions {
            display: flex;
            gap: 10px;
        }

        /* Footer */
        .footer {
            background: var(--color-primary);
            color: white;
            padding: 50px 0 20px;
            margin-top: 50px;
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .footer-logo {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: inline-block;
        }

        .footer-about {
            margin-bottom: 20px;
            line-height: 1.8;
            opacity: 0.8;
        }

        .footer-social {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .footer-social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transition: all 0.3s ease;
        }

        .footer-social-link:hover {
            background: var(--color-secondary);
            transform: translateY(-3px);
        }

        .footer-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 2px;
            background: var(--color-secondary);
        }

        .footer-links {
            list-style: none;
        }

        .footer-link-item {
            margin-bottom: 10px;
        }

        .footer-link {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-block;
            padding: 5px 0;
        }

        .footer-link:hover {
            color: white;
            transform: translateX(5px);
        }

        .footer-contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .footer-contact-icon {
            margin-right: 10px;
            color: var(--color-secondary);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            margin-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* Animation Classes */
        .fade-in {
            animation: fadeIn 0.5s forwards;
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        /* Floating Button Styles */
        .floating-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .floating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--color-secondary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .floating-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            background: #2980b9;
        }

        .floating-btn .tooltip {
            position: absolute;
            right: 70px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .floating-btn:hover .tooltip {
            opacity: 1;
            right: 80px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: var(--color-card);
            color: var(--color-text);
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalFadeIn 0.3s;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--color-border);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--color-primary);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--color-text-light);
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            color: var(--color-error);
            transform: rotate(90deg);
        }

        /* Login/Signup Form */
        .auth-form {
            max-width: 500px;
            margin: 0 auto;
            padding: 30px;
            background: var(--color-card);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .auth-title {
            text-align: center;
            margin-bottom: 30px;
            color: var(--color-primary);
        }

        .auth-footer {
            text-align: center;
            margin-top: 20px;
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        .auth-link {
            color: var(--color-secondary);
            font-weight: 500;
            text-decoration: none;
        }

        .auth-link:hover {
            text-decoration: underline;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .book-detail {
                grid-template-columns: 1fr;
            }
            
            .nav-menu {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 70px);
                background: var(--color-primary);
                flex-direction: column;
                align-items: center;
                padding-top: 30px;
                transition: all 0.3s ease;
                z-index: 99;
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .nav-item {
                margin: 15px 0;
            }
            
            .mobile-menu-btn {
                display: block;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .header p {
                font-size: 1rem;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 576px) {
            .btn {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .search-bar {
                flex-direction: column;
            }
            
            .search-input {
                padding: 12px 15px;
            }
            
            .search-btn {
                padding: 12px;
            }
            
            .books-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .reading-list-item {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .reading-list-cover {
                margin-bottom: 15px;
            }
            
            .reading-list-actions {
                margin-top: 15px;
                width: 100%;
                justify-content: flex-end;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--color-secondary);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #2980b9;
        }

        /* Loading Spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: var(--color-secondary);
            animation: spin 1s ease-in-out infinite;
            margin: 30px auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-primary {
            background: var(--color-secondary);
            color: white;
        }

        .badge-success {
            background: var(--color-success);
            color: white;
        }

        .badge-warning {
            background: var(--color-warning);
            color: white;
        }

        .badge-danger {
            background: var(--color-error);
            color: white;
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--color-border);
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 500;
            color: var(--color-text-light);
            position: relative;
            transition: all 0.3s ease;
        }

        .tab:hover {
            color: var(--color-primary);
        }

        .tab.active {
            color: var(--color-secondary);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--color-secondary);
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            gap: 5px;
        }

        .page-item {
            list-style: none;
        }

        .page-link {
            display: block;
            padding: 8px 15px;
            border: 1px solid var(--color-border);
            color: var(--color-text);
            text-decoration: none;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .page-link:hover {
            background: var(--color-secondary);
            color: white;
            border-color: var(--color-secondary);
        }

        .page-item.active .page-link {
            background: var(--color-secondary);
            color: white;
            border-color: var(--color-secondary);
        }

        .page-item.disabled .page-link {
            color: var(--color-text-light);
            pointer-events: none;
            background: #f8f9fa;
        }

        /* Tooltip */
        .tooltip-container {
            position: relative;
            display: inline-block;
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            z-index: 100;
            visibility: hidden;
            opacity: 0;
            transition: all 0.3s ease;
            width: max-content;
            max-width: 200px;
            text-align: center;
        }

        .tooltip-container:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }

        .tooltip-top {
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 5px;
        }

        /* Book Reader */
        .book-reader {
            width: 100%;
            height: 80vh;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            overflow: hidden;
            margin-top: 30px;
        }

        .reader-toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: var(--color-primary);
            color: white;
        }

        .reader-content {
            width: 100%;
            height: calc(100% - 50px);
            padding: 30px;
            overflow-y: auto;
            background: #f9f9f9;
        }

        /* Admin Panel */
        .admin-panel {
            display: grid;
            grid-template-columns: 250px 1fr;
            min-height: 100vh;
        }

        .admin-sidebar {
            background: var(--color-primary);
            color: white;
            padding: 20px 0;
        }

        .admin-logo {
            text-align: center;
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .admin-menu {
            list-style: none;
            padding: 20px 0;
        }

        .admin-menu-item {
            margin-bottom: 5px;
        }

        .admin-menu-link {
            display: block;
            padding: 10px 20px;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .admin-menu-link:hover,
        .admin-menu-link.active {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .admin-menu-icon {
            margin-right: 10px;
        }

        .admin-content {
            padding: 30px;
            background: var(--color-bg);
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--color-border);
        }

        .admin-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--color-primary);
        }

        .admin-user {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        /* Data Table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.9rem;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
        }

        .data-table th, 
        .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--color-border);
        }

        .data-table th {
            background: var(--color-primary);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.8rem;
        }

        .data-table tr:nth-child(even) {
            background: rgba(0, 0, 0, 0.02);
        }

        .data-table tr:hover {
            background: rgba(52, 152, 219, 0.05);
        }

        .table-actions {
            display: flex;
            gap: 5px;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stats-card {
            background: var(--color-card);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            text-align: center;
            border: 1px solid var(--color-border);
        }

        .stats-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-secondary);
            margin-bottom: 5px;
        }

        .stats-label {
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        /* Form Groups */
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-col {
            flex: 1;
            min-width: 250px;
        }

        /* File Upload */
        .file-upload {
            border: 2px dashed var(--color-border);
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .file-upload:hover {
            border-color: var(--color-secondary);
            background: rgba(52, 152, 219, 0.05);
        }

        .file-upload-icon {
            font-size: 2rem;
            color: var(--color-secondary);
            margin-bottom: 10px;
        }

        .file-upload-text {
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--color-success);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        /* Alert Messages */
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-success {
            background: rgba(39, 174, 96, 0.1);
            border-left: 4px solid var(--color-success);
            color: var(--color-success);
        }

        .alert-danger {
            background: rgba(231, 76, 60, 0.1);
            border-left: 4px solid var(--color-error);
            color: var(--color-error);
        }

        .alert-warning {
            background: rgba(243, 156, 18, 0.1);
            border-left: 4px solid var(--color-warning);
            color: var(--color-warning);
        }

        .alert-info {
            background: rgba(52, 152, 219, 0.1);
            border-left: 4px solid var(--color-info);
            color: var(--color-info);
        }

        /* Bookmark */
        .bookmark {
            position: absolute;
            top: 0;
            right: 20px;
            width: 30px;
            height: 40px;
            background: var(--color-accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            clip-path: polygon(0 0, 100% 0, 100% 100%, 50% 80%, 0 100%);
        }

        /* Rating */
        .rating {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .rating-stars {
            color: var(--color-warning);
        }

        .rating-count {
            font-size: 0.8rem;
            color: var(--color-text-light);
        }

        /* Featured Books */
        .featured-books {
            position: relative;
            margin: 40px 0;
            padding: 30px 0;
        }

        .featured-title {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8rem;
            color: var(--color-primary);
            position: relative;
        }

        .featured-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: var(--color-secondary);
        }

        .featured-slider {
            display: flex;
            gap: 30px;
            overflow-x: auto;
            padding: 20px 0;
            scroll-snap-type: x mandatory;
            scrollbar-width: none;
        }

        .featured-slider::-webkit-scrollbar {
            display: none;
        }

        .featured-slide {
            scroll-snap-align: start;
            min-width: 300px;
            background: var(--color-card);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .featured-slide:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .featured-cover {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .featured-details {
            padding: 20px;
        }

        .featured-book-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--color-primary);
        }

        .featured-book-author {
            font-size: 0.9rem;
            color: var(--color-text-light);
            margin-bottom: 15px;
        }

        .featured-book-description {
            font-size: 0.9rem;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* Newsletter */
        .newsletter {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
            padding: 50px 0;
            text-align: center;
            margin: 50px 0;
            border-radius: 10px;
        }

        .newsletter-title {
            font-size: 1.8rem;
            margin-bottom: 15px;
        }

        .newsletter-text {
            max-width: 600px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }

        .newsletter-form {
            display: flex;
            max-width: 500px;
            margin: 0 auto;
        }

        .newsletter-input {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px 0 0 8px;
            font-size: 1rem;
            outline: none;
        }

        .newsletter-btn {
            padding: 0 25px;
            background: var(--color-accent);
            color: white;
            border: none;
            border-radius: 0 8px 8px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .newsletter-btn:hover {
            background: #c0392b;
        }

        /* Testimonials */
        .testimonials {
            margin: 50px 0;
        }

        .testimonial-card {
            background: var(--color-card);
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin: 15px;
            position: relative;
        }

        .testimonial-text {
            font-style: italic;
            margin-bottom: 20px;
            position: relative;
            padding-left: 20px;
        }

        .testimonial-text::before {
            content: '"';
            position: absolute;
            left: 0;
            top: -10px;
            font-size: 3rem;
            color: rgba(52, 152, 219, 0.1);
            font-family: serif;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .testimonial-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }

        .testimonial-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .testimonial-role {
            font-size: 0.8rem;
            color: var(--color-text-light);
        }

        /* Breadcrumb */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        .breadcrumb-item {
            color: var(--color-text-light);
        }

        .breadcrumb-item.active {
            color: var(--color-primary);
            font-weight: 500;
        }

        .breadcrumb-divider {
            color: var(--color-text-light);
        }

        /* Book Filters */
        .book-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            padding: 15px;
            background: var(--color-card);
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        /* Book Preview */
        .book-preview {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .book-preview.active {
            opacity: 1;
            visibility: visible;
        }

        .preview-content {
            background: var(--color-card);
            border-radius: 10px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .preview-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--color-text-light);
            transition: all 0.3s ease;
        }

        .preview-close:hover {
            color: var(--color-error);
            transform: rotate(90deg);
        }

        .preview-body {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
        }

        @media (max-width: 768px) {
            .preview-body {
                grid-template-columns: 1fr;
            }
        }

        /* Shelf View */
        .shelf-view {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .shelf-book {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .shelf-cover {
            width: 120px;
            height: 160px;
            object-fit: cover;
            border-radius: 4px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            margin-bottom: 10px;
        }

        .shelf-cover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .shelf-title {
            font-weight: 500;
            font-size: 0.9rem;
            margin-bottom: 5px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .shelf-author {
            font-size: 0.8rem;
            color: var(--color-text-light);
        }

        /* Reading Progress */
        .progress-container {
            width: 100%;
            height: 5px;
            background: #e0e0e0;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
        }

        .progress-bar {
            height: 100%;
            background: var(--color-secondary);
            width: 0%;
            transition: width 0.1s ease;
        }

        /* Admin Access Modal */
        .admin-access-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .admin-access-content {
            background: var(--color-card);
            border-radius: 10px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            text-align: center;
        }

        .admin-access-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--color-primary);
        }

        .admin-access-input {
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            border: 1px solid var(--color-border);
            font-size: 16px;
        }

        .admin-access-btn {
            padding: 12px 25px;
            background: var(--color-secondary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            margin: 0 5px;
        }

        .admin-access-btn:hover {
            background: #2980b9;
        }

        .admin-access-error {
            color: var(--color-error);
            margin-top: 10px;
            display: none;
        }

        /* WhatsApp Chat Button */
        .whatsapp-chat {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 100;
        }

        .whatsapp-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #25D366;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            position: relative;
        }

        .whatsapp-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            background: #128C7E;
        }

        .whatsapp-btn .tooltip {
            position: absolute;
            left: 70px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .whatsapp-btn:hover .tooltip {
            opacity: 1;
            left: 80px;
        }

        /* Testimonial Form */
        .testimonial-form {
            max-width: 600px;
            margin: 0 auto;
            padding: 30px;
            background: var(--color-card);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .testimonial-form-title {
            text-align: center;
            margin-bottom: 30px;
            color: var(--color-primary);
        }

        /* PDF Reader */
        .pdf-reader-container {
            width: 100%;
            height: 80vh;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            overflow: hidden;
            margin-top: 30px;
        }

        .pdf-toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: var(--color-primary);
            color: white;
        }

        .pdf-viewer {
            width: 100%;
            height: calc(100% - 50px);
            border: none;
        }

        /* Book Link Management */
        .link-management {
            margin-top: 20px;
        }

        .link-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid var(--color-border);
            transition: all 0.3s ease;
        }

        .link-item:hover {
            background: rgba(52, 152, 219, 0.05);
        }

        .link-title {
            flex: 1;
            font-weight: 500;
        }

        .link-url {
            flex: 2;
            color: var(--color-text-light);
            font-size: 0.9rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .link-actions {
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body>
    <!-- Reading Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="nav-logo">PERPUSTAKAAN DIGITAL</a>
            <button class="mobile-menu-btn" id="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-menu" id="nav-menu">
                <li class="nav-item">
                    <a href="#" class="nav-link active">Beranda</a>
                </li>
                <li class="nav-item">
                    <a href="#koleksi" class="nav-link">Koleksi</a>
                </li>
                <li class="nav-item">
                    <a href="#kategori" class="nav-link">Kategori</a>
                </li>
                <li class="nav-item">
                    <a href="#tentang" class="nav-link">Tentang</a>
                </li>
                <li class="nav-item">
                    <a href="#kontak" class="nav-link">Kontak</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" id="login-link">Masuk</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="header">
        <img src="https://raw.githubusercontent.com/pergunu/ujian-online/main/assets/images/logo.png" alt="PERGUNU Logo" class="logo">
        <h1>Perpustakaan Digital PERGUNU Situbondo</h1>
        <p>Jelajahi ribuan koleksi buku digital berkualitas untuk menunjang pendidikan dan pengembangan diri</p>
    </div>

    <!-- Main Content -->
    <div class="container">
        <!-- Search Section -->
        <div class="card">
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="Cari buku, penulis, atau kategori...">
                <button class="search-btn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>

        <!-- Featured Books -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">Buku Unggulan</h2>
                <div class="card-actions">
                    <button class="btn btn-outline">Lihat Semua</button>
                </div>
            </div>
            <div class="featured-books">
                <div class="featured-slider" id="featured-slider">
                    <!-- Featured books will be loaded here by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Categories Section -->
        <div class="card" id="kategori">
            <div class="card-header">
                <h2 class="card-title">Kategori Buku</h2>
                <div class="card-actions">
                    <button class="btn btn-outline">Lihat Semua</button>
                </div>
            </div>
            <div class="categories-list" id="categories-list">
                <!-- Categories will be loaded here by JavaScript -->
            </div>
        </div>

        <!-- Recent Books -->
        <div class="card" id="koleksi">
            <div class="card-header">
                <h2 class="card-title">Koleksi Terbaru</h2>
                <div class="card-actions">
                    <button class="btn btn-outline">Lihat Semua</button>
                </div>
            </div>
            <div class="books-grid" id="books-grid">
                <!-- Books will be loaded here by JavaScript -->
            </div>
        </div>

        <!-- Testimonials -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">Apa Kata Mereka?</h2>
                <div class="card-actions">
                    <button class="btn btn-outline" id="add-testimonial-btn">Tambah Testimoni</button>
                </div>
            </div>
            <div class="testimonials" id="testimonials-container">
                <!-- Testimonials will be loaded here by JavaScript -->
            </div>
        </div>

        <!-- Newsletter -->
        <div class="newsletter">
            <h2 class="newsletter-title">Berlangganan Newsletter</h2>
            <p class="newsletter-text">Dapatkan update terbaru tentang koleksi buku, event, dan konten eksklusif langsung ke email Anda.</p>
            <form class="newsletter-form" id="newsletter-form">
                <input type="email" class="newsletter-input" placeholder="Alamat email Anda" required>
                <button type="submit" class="newsletter-btn">Berlangganan</button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer" id="kontak">
        <div class="footer-container">
            <div>
                <a href="#" class="footer-logo">PERPUSTAKAAN DIGITAL</a>
                <p class="footer-about">
                    Perpustakaan Digital PERGUNU Situbondo merupakan platform penyedia buku digital berkualitas untuk menunjang pendidikan dan pengembangan diri masyarakat Situbondo dan sekitarnya.
                </p>
                <div class="footer-social">
                    <a href="#" class="footer-social-link"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="footer-social-link"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="footer-social-link"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="footer-social-link"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div>
                <h3 class="footer-title">Tautan Cepat</h3>
                <ul class="footer-links">
                    <li class="footer-link-item"><a href="#" class="footer-link">Beranda</a></li>
                    <li class="footer-link-item"><a href="#koleksi" class="footer-link">Koleksi Buku</a></li>
                    <li class="footer-link-item"><a href="#kategori" class="footer-link">Kategori</a></li>
                    <li class="footer-link-item"><a href="#" class="footer-link">Tentang Kami</a></li>
                    <li class="footer-link-item"><a href="#" class="footer-link">Kebijakan Privasi</a></li>
                </ul>
            </div>
            <div>
                <h3 class="footer-title">Kategori Populer</h3>
                <ul class="footer-links" id="footer-categories">
                    <!-- Categories will be loaded here by JavaScript -->
                </ul>
            </div>
            <div>
                <h3 class="footer-title">Kontak Kami</h3>
                <div class="footer-contact-item">
                    <i class="fas fa-map-marker-alt footer-contact-icon"></i>
                    <span>Jl. Madura No.79, Mimbaan Barat, Mimbaan, Kec. Panji, Kabupaten Situbondo, Jawa Timur 68322</span>
                </div>
                <div class="footer-contact-item">
                    <i class="fas fa-phone-alt footer-contact-icon"></i>
                    <span>085647709114</span>
                </div>
                <div class="footer-contact-item">
                    <i class="fas fa-envelope footer-contact-icon"></i>
                    <span>pergunusitubondo@gmail.com</span>
                </div>
                <div class="footer-contact-item">
                    <i class="fas fa-clock footer-contact-icon"></i>
                    <span>Senin - Jumat: 08.00 - 16.00</span>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 Perpustakaan Digital PERGUNU Situbondo. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- WhatsApp Chat Button -->
    <div class="whatsapp-chat">
        <button class="whatsapp-btn" id="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
            <span class="tooltip">Chat Admin</span>
        </button>
    </div>

    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn" id="admin-btn">
            <i class="fas fa-cog"></i>
            <span class="tooltip">Kontrol Panel Admin</span>
        </button>
        <button class="floating-btn" id="back-to-top">
            <i class="fas fa-arrow-up"></i>
            <span class="tooltip">Ke Atas</span>
        </button>
    </div>

    <!-- Admin Access Modal -->
    <div class="admin-access-modal" id="admin-access-modal">
        <div class="admin-access-content">
            <h3 class="admin-access-title">Akses Kontrol Panel Admin</h3>
            <p style="margin-bottom: 20px;">Masukkan kode akses admin untuk melanjutkan:</p>
            <input type="password" class="admin-access-input" id="admin-access-code" placeholder="Masukkan kode akses">
            <p class="admin-access-error" id="admin-access-error">Kode akses salah! Silakan coba lagi.</p>
            <div style="margin-top: 20px;">
                <button class="admin-access-btn" id="admin-access-submit">Masuk</button>
                <button class="admin-access-btn" id="admin-access-cancel">Batal</button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Masuk ke Akun Anda</h3>
                <button class="modal-close" id="close-login-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form class="auth-form" id="login-form">
                    <div class="form-group">
                        <label for="login-email" class="form-label">Email</label>
                        <input type="email" id="login-email" class="form-control" placeholder="Masukkan email Anda" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password" class="form-label">Password</label>
                        <input type="password" id="login-password" class="form-control" placeholder="Masukkan password" required>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Masuk</button>
                    </div>
                    <div class="auth-footer">
                        Belum punya akun? <a href="#" class="auth-link" id="show-register">Daftar sekarang</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="register-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Buat Akun Baru</h3>
                <button class="modal-close" id="close-register-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form class="auth-form" id="register-form">
                    <div class="form-group">
                        <label for="register-name" class="form-label">Nama Lengkap</label>
                        <input type="text" id="register-name" class="form-control" placeholder="Masukkan nama lengkap" required>
                    </div>
                    <div class="form-group">
                        <label for="register-email" class="form-label">Email</label>
                        <input type="email" id="register-email" class="form-control" placeholder="Masukkan email Anda" required>
                    </div>
                    <div class="form-group">
                        <label for="register-password" class="form-label">Password</label>
                        <input type="password" id="register-password" class="form-control" placeholder="Buat password" required>
                    </div>
                    <div class="form-group">
                        <label for="register-confirm" class="form-label">Konfirmasi Password</label>
                        <input type="password" id="register-confirm" class="form-control" placeholder="Ulangi password" required>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Daftar</button>
                    </div>
                    <div class="auth-footer">
                        Sudah punya akun? <a href="#" class="auth-link" id="show-login">Masuk sekarang</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Book Preview Modal -->
    <div class="book-preview" id="book-preview">
        <div class="preview-content">
            <span class="preview-close" id="close-preview">&times;</span>
            <div class="preview-body">
                <div>
                    <img src="" alt="Book Cover" class="book-cover-large" id="preview-book-cover">
                    <div class="book-actions" style="margin-top: 20px;">
                        <button class="btn btn-primary" id="read-book-btn" style="flex: 1;">Baca Sekarang</button>
                        <button class="btn btn-outline" id="bookmark-book-btn">
                            <i class="far fa-bookmark"></i> Simpan
                        </button>
                    </div>
                </div>
                <div>
                    <h2 class="book-title-large" id="preview-book-title"></h2>
                    <p class="book-author-large" id="preview-book-author"></p>
                    <div class="book-meta-large">
                        <div class="book-meta-item">
                            <i class="fas fa-book-open"></i>
                            <span id="preview-book-pages"></span>
                        </div>
                        <div class="book-meta-item">
                            <i class="fas fa-star"></i>
                            <span id="preview-book-rating"></span>
                        </div>
                        <div class="book-meta-item">
                            <i class="fas fa-download"></i>
                            <span id="preview-book-downloads"></span>
                        </div>
                    </div>
                    <div class="rating" style="margin-bottom: 20px;">
                        <div class="rating-stars" id="preview-book-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <div class="rating-count" id="preview-book-reviews"></div>
                    </div>
                    <h3 style="margin-bottom: 15px;">Deskripsi Buku</h3>
                    <p class="book-description" id="preview-book-description"></p>
                    <div style="margin-top: 20px;">
                        <h3 style="margin-bottom: 15px;">Detail Buku</h3>
                        <div class="book-meta-large">
                            <div class="book-meta-item">
                                <i class="fas fa-tag"></i>
                                <span id="preview-book-tags"></span>
                            </div>
                            <div class="book-meta-item">
                                <i class="fas fa-calendar-alt"></i>
                                <span id="preview-book-year"></span>
                            </div>
                            <div class="book-meta-item">
                                <i class="fas fa-language"></i>
                                <span id="preview-book-language"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PDF Reader Modal -->
    <div class="modal" id="pdf-reader-modal">
        <div class="modal-content" style="width: 90%; max-width: 1000px; height: 90vh;">
            <div class="modal-header">
                <h3 class="modal-title" id="pdf-reader-title">Membaca Buku</h3>
                <button class="modal-close" id="close-pdf-reader">&times;</button>
            </div>
            <div class="modal-body" style="height: calc(100% - 60px);">
                <div class="pdf-reader-container">
                    <div class="pdf-toolbar">
                        <div>
                            <button class="btn btn-sm btn-outline" id="prev-page">
                                <i class="fas fa-chevron-left"></i> Sebelumnya
                            </button>
                            <span id="page-num" style="margin: 0 15px;">Halaman 1</span>
                            <button class="btn btn-sm btn-outline" id="next-page">
                                Berikutnya <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        <div>
                            <button class="btn btn-sm btn-outline" id="zoom-out">
                                <i class="fas fa-search-minus"></i>
                            </button>
                            <span id="zoom-level" style="margin: 0 10px;">100%</span>
                            <button class="btn btn-sm btn-outline" id="zoom-in">
                                <i class="fas fa-search-plus"></i>
                            </button>
                        </div>
                    </div>
                    <iframe class="pdf-viewer" id="pdf-viewer" src="about:blank"></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- Testimonial Form Modal -->
    <div class="modal" id="testimonial-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Tambah Testimoni</h3>
                <button class="modal-close" id="close-testimonial-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form class="testimonial-form" id="testimonial-form">
                    <div class="form-group">
                        <label for="testimonial-name" class="form-label">Nama Lengkap</label>
                        <input type="text" id="testimonial-name" class="form-control" placeholder="Masukkan nama lengkap" required>
                    </div>
                    <div class="form-group">
                        <label for="testimonial-email" class="form-label">Email</label>
                        <input type="email" id="testimonial-email" class="form-control" placeholder="Masukkan email Anda" required>
                    </div>
                    <div class="form-group">
                        <label for="testimonial-role" class="form-label">Profesi/Peran</label>
                        <input type="text" id="testimonial-role" class="form-control" placeholder="Contoh: Guru, Mahasiswa, Dll" required>
                    </div>
                    <div class="form-group">
                        <label for="testimonial-text" class="form-label">Testimoni Anda</label>
                        <textarea id="testimonial-text" class="form-control" rows="5" placeholder="Bagikan pengalaman Anda menggunakan perpustakaan digital ini" required></textarea>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Kirim Testimoni</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Admin Panel (Hidden) -->
    <div id="admin-panel" style="display: none;">
        <div class="admin-panel">
            <div class="admin-sidebar">
                <div class="admin-logo">
                    <h2>Admin Panel</h2>
                </div>
                <ul class="admin-menu">
                    <li class="admin-menu-item">
                        <a href="#" class="admin-menu-link active" data-tab="dashboard">
                            <i class="fas fa-tachometer-alt admin-menu-icon"></i>
                            Dashboard
                        </a>
                    </li>
                    <li class="admin-menu-item">
                        <a href="#" class="admin-menu-link" data-tab="books">
                            <i class="fas fa-book admin-menu-icon"></i>
                            Manajemen Buku
                        </a>
                    </li>
                    <li class="admin-menu-item">
                        <a href="#" class="admin-menu-link" data-tab="categories">
                            <i class="fas fa-tags admin-menu-icon"></i>
                            Kategori
                        </a>
                    </li>
                    <li class="admin-menu-item">
                        <a href="#" class="admin-menu-link" data-tab="testimonials">
                            <i class="fas fa-comment admin-menu-icon"></i>
                            Testimoni
                        </a>
                    </li>
                    <li class="admin-menu-item">
                        <a href="#" class="admin-menu-link" data-tab="settings">
                            <i class="fas fa-cog admin-menu-icon"></i>
                            Pengaturan
                        </a>
                    </li>
                    <li class="admin-menu-item">
                        <a href="#" class="admin-menu-link" id="admin-logout">
                            <i class="fas fa-sign-out-alt admin-menu-icon"></i>
                            Keluar
                        </a>
                    </li>
                </ul>
            </div>
            <div class="admin-content">
                <div class="admin-header">
                    <h2 class="admin-title" id="admin-tab-title">Dashboard</h2>
                    <div class="admin-user">
                        <img src="https://randomuser.me/api/portraits/men/1.jpg" alt="Admin" class="admin-avatar">
                        <span>Admin</span>
                    </div>
                </div>

                <!-- Dashboard Tab -->
                <div class="admin-tab-content" id="dashboard-tab">
                    <div class="stats-grid">
                        <div class="stats-card">
                            <div class="stats-value" id="total-books">0</div>
                            <div class="stats-label">Total Buku</div>
                        </div>
                        <div class="stats-card">
                            <div class="stats-value" id="total-users">0</div>
                            <div class="stats-label">Pengguna Terdaftar</div>
                        </div>
                        <div class="stats-card">
                            <div class="stats-value" id="total-downloads">0</div>
                            <div class="stats-label">Unduhan</div>
                        </div>
                        <div class="stats-card">
                            <div class="stats-value" id="total-categories">0</div>
                            <div class="stats-label">Kategori</div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Aktivitas Terkini</h3>
                        </div>
                        <div class="card-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Waktu</th>
                                        <th>Pengguna</th>
                                        <th>Aktivitas</th>
                                        <th>Detail</th>
                                    </tr>
                                </thead>
                                <tbody id="recent-activities">
                                    <!-- Activities will be loaded here by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Books Management Tab -->
                <div class="admin-tab-content" id="books-tab" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Daftar Buku</h3>
                            <button class="btn btn-success" id="add-book-btn">
                                <i class="fas fa-plus"></i> Tambah Buku
                            </button>
                        </div>
                        <div class="card-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Cover</th>
                                        <th>Judul</th>
                                        <th>Penulis</th>
                                        <th>Kategori</th>
                                        <th>Link Baca</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="books-table-body">
                                    <!-- Books will be loaded here by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Categories Tab -->
                <div class="admin-tab-content" id="categories-tab" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Kategori Buku</h3>
                            <button class="btn btn-success" id="add-category-btn">
                                <i class="fas fa-plus"></i> Tambah Kategori
                            </button>
                        </div>
                        <div class="card-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nama</th>
                                        <th>Jumlah Buku</th>
                                        <th>Icon</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="categories-table-body">
                                    <!-- Categories will be loaded here by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Testimonials Tab -->
                <div class="admin-tab-content" id="testimonials-tab" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Manajemen Testimoni</h3>
                        </div>
                        <div class="card-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nama</th>
                                        <th>Email</th>
                                        <th>Profesi</th>
                                        <th>Testimoni</th>
                                        <th>Status</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="testimonials-table-body">
                                    <!-- Testimonials will be loaded here by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Settings Tab -->
                <div class="admin-tab-content" id="settings-tab" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Pengaturan Sistem</h3>
                        </div>
                        <div class="card-body">
                            <form id="admin-settings-form">
                                <div class="form-group">
                                    <label class="form-label">Nama Aplikasi</label>
                                    <input type="text" class="form-control" value="Perpustakaan Digital PERGUNU">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Deskripsi Aplikasi</label>
                                    <textarea class="form-control" rows="3">Platform penyedia buku digital berkualitas untuk menunjang pendidikan dan pengembangan diri</textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Kode Akses Admin</label>
                                    <input type="password" class="form-control" id="admin-password-input">
                                    <small class="form-text">Gunakan kode ini untuk mengakses panel admin</small>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Nomor WhatsApp Admin</label>
                                    <input type="text" class="form-control" id="whatsapp-number-input">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Mode Warna</label>
                                    <div>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="dark-mode-toggle">
                                            <span class="toggle-slider"></span>
                                        </label>
                                        <span style="margin-left: 10px;">Mode Gelap</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-primary">Simpan Perubahan</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Book Modal -->
    <div class="modal" id="add-book-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Tambah Buku Baru</h3>
                <button class="modal-close" id="close-add-book-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="book-form">
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="book-title" class="form-label">Judul Buku</label>
                                <input type="text" id="book-title" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="book-author" class="form-label">Penulis</label>
                                <input type="text" id="book-author" class="form-control" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="book-category" class="form-label">Kategori</label>
                                <select id="book-category" class="form-control" required>
                                    <!-- Categories will be loaded here by JavaScript -->
                                </select>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="book-year" class="form-label">Tahun Terbit</label>
                                <input type="number" id="book-year" class="form-control" min="1900" max="2099" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="book-description" class="form-label">Deskripsi</label>
                        <textarea id="book-description" class="form-control" rows="4" required></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="book-pages" class="form-label">Jumlah Halaman</label>
                                <input type="number" id="book-pages" class="form-control" min="1" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="book-language" class="form-label">Bahasa</label>
                                <input type="text" id="book-language" class="form-control" value="Bahasa Indonesia" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="book-link" class="form-label">Link Baca (URL)</label>
                        <input type="url" id="book-link" class="form-control" placeholder="https://example.com/buku" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="book-cover-url" class="form-label">URL Cover Buku</label>
                        <input type="url" id="book-cover-url" class="form-control" placeholder="https://example.com/cover.jpg">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="book-featured">
                                <span class="toggle-slider"></span>
                            </label>
                            <span style="margin-left: 10px;">Featured</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Simpan Buku</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Category Modal -->
    <div class="modal" id="add-category-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Tambah Kategori Baru</h3>
                <button class="modal-close" id="close-add-category-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="category-form">
                    <div class="form-group">
                        <label for="category-name" class="form-label">Nama Kategori</label>
                        <input type="text" id="category-name" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="category-icon" class="form-label">Icon (Font Awesome)</label>
                        <input type="text" id="category-icon" class="form-control" placeholder="fas fa-book" required>
                        <small class="form-text">Gunakan nama class icon dari Font Awesome (contoh: fas fa-book)</small>
                    </div>
                    
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Simpan Kategori</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="button-sound" src="https://github.com/pergunu/pergunusmart/raw/main/assets/audio/audiotombol.mp3" preload="auto"></audio>
    <audio id="notification-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-positive-interface-beep-221.mp3" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
    <script>
        // Global variables
        let currentUser = null;
        let currentBook = null;
        let books = [];
        let categories = [];
        let testimonials = [];
        let readingList = [];
        let adminPassword = "65614222"; // Default admin password
        let whatsappNumber = "6285647709114"; // Default WhatsApp number
        let currentPdf = null;
        let currentPage = 1;
        let pdfScale = 1.0;
        
        // Initialize PDF.js
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';
        
        // DOM Elements
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const navMenu = document.getElementById('nav-menu');
        const loginLink = document.getElementById('login-link');
        const loginModal = document.getElementById('login-modal');
        const closeLoginModal = document.getElementById('close-login-modal');
        const registerModal = document.getElementById('register-modal');
        const closeRegisterModal = document.getElementById('close-register-modal');
        const showRegister = document.getElementById('show-register');
        const showLogin = document.getElementById('show-login');
        const backToTopBtn = document.getElementById('back-to-top');
        const adminBtn = document.getElementById('admin-btn');
        const whatsappBtn = document.getElementById('whatsapp-btn');
        const bookPreview = document.getElementById('book-preview');
        const closePreview = document.getElementById('close-preview');
        const progressBar = document.getElementById('progress-bar');
        const adminAccessModal = document.getElementById('admin-access-modal');
        const adminAccessCode = document.getElementById('admin-access-code');
        const adminAccessSubmit = document.getElementById('admin-access-submit');
        const adminAccessCancel = document.getElementById('admin-access-cancel');
        const adminAccessError = document.getElementById('admin-access-error');
        const adminPanel = document.getElementById('admin-panel');
        const adminLogout = document.getElementById('admin-logout');
        const adminPasswordInput = document.getElementById('admin-password-input');
        const whatsappNumberInput = document.getElementById('whatsapp-number-input');
        const readBookBtn = document.getElementById('read-book-btn');
        const bookmarkBookBtn = document.getElementById('bookmark-book-btn');
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const adminSettingsForm = document.getElementById('admin-settings-form');
        const pdfReaderModal = document.getElementById('pdf-reader-modal');
        const pdfViewer = document.getElementById('pdf-viewer');
        const pdfReaderTitle = document.getElementById('pdf-reader-title');
        const closePdfReader = document.getElementById('close-pdf-reader');
        const prevPageBtn = document.getElementById('prev-page');
        const nextPageBtn = document.getElementById('next-page');
        const pageNumSpan = document.getElementById('page-num');
        const zoomInBtn = document.getElementById('zoom-in');
        const zoomOutBtn = document.getElementById('zoom-out');
        const zoomLevelSpan = document.getElementById('zoom-level');
        const testimonialModal = document.getElementById('testimonial-modal');
        const testimonialForm = document.getElementById('testimonial-form');
        const addTestimonialBtn = document.getElementById('add-testimonial-btn');
        const closeTestimonialModal = document.getElementById('close-testimonial-modal');
        const addBookBtn = document.getElementById('add-book-btn');
        const addBookModal = document.getElementById('add-book-modal');
        const closeAddBookModal = document.getElementById('close-add-book-modal');
        const bookForm = document.getElementById('book-form');
        const addCategoryBtn = document.getElementById('add-category-btn');
        const addCategoryModal = document.getElementById('add-category-modal');
        const closeAddCategoryModal = document.getElementById('close-add-category-modal');
        const categoryForm = document.getElementById('category-form');
        const bookCategorySelect = document.getElementById('book-category');
        
        // Audio elements
        const buttonSound = document.getElementById('button-sound');
        const notificationSound = document.getElementById('notification-sound');
        
        // Sample data
        const SAMPLE_BOOKS = [
            {
                id: 1,
                title: "Pendidikan Karakter",
                author: "Prof. Dr. Ahmad Dahlan",
                cover: "https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
                description: "Buku ini membahas tentang pentingnya pendidikan karakter dalam membangun generasi muda yang berakhlak mulia dan berintegritas tinggi.",
                pages: 250,
                rating: 4.8,
                reviews: 120,
                downloads: 1250,
                year: 2022,
                language: "Bahasa Indonesia",
                category: "Pendidikan",
                tags: ["Pendidikan", "Karakter"],
                link: "https://pergunu.github.io/pendidikan-karakter",
                isNew: true,
                isFeatured: true
            },
            {
                id: 2,
                title: "Matematika Dasar",
                author: "Dr. Sri Mulyani",
                cover: "https://images.unsplash.com/photo-1541963463532-d68292c34b19?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
                description: "Panduan lengkap untuk memahami konsep dasar matematika dengan pendekatan yang mudah dipahami dan contoh aplikasi sehari-hari.",
                pages: 320,
                rating: 4.5,
                reviews: 85,
                downloads: 980,
                year: 2021,
                language: "Bahasa Indonesia",
                category: "Pendidikan",
                tags: ["Matematika", "Dasar"],
                link: "https://pergunu.github.io/matematika-dasar",
                isFeatured: true
            },
            {
                id: 3,
                title: "Sejarah Islam",
                author: "Prof. Dr. Komaruddin Hidayat",
                cover: "https://images.unsplash.com/photo-1589998059171-988d887df646?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
                description: "Mengungkap perjalanan sejarah Islam dari masa ke masa dengan analisis mendalam dan referensi yang akurat.",
                pages: 450,
                rating: 4.9,
                reviews: 150,
                downloads: 2100,
                year: 2020,
                language: "Bahasa Indonesia",
                category: "Agama",
                tags: ["Sejarah", "Islam"],
                link: "https://pergunu.github.io/sejarah-islam",
                isPopular: true,
                isFeatured: true
            },
            {
                id: 4,
                title: "Sains Modern",
                author: "Dr. Eng. Bambang Permadi",
                cover: "https://images.unsplash.com/photo-1532012197267-da84d127e765?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
                description: "Eksplorasi perkembangan sains modern dan dampaknya terhadap kehidupan manusia di abad ke-21.",
                pages: 380,
                rating: 4.7,
                reviews: 95,
                downloads: 1500,
                year: 2023,
                language: "Bahasa Indonesia",
                category: "Sains",
                tags: ["Sains", "Teknologi"],
                link: "https://pergunu.github.io/sains-modern",
                isFeatured: true
            },
            {
                id: 5,
                title: "Metode Penelitian Pendidikan",
                author: "Prof. Dr. Sutrisno Hadi",
                cover: "https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
                description: "Panduan komprehensif tentang berbagai metode penelitian dalam bidang pendidikan.",
                pages: 280,
                rating: 4.8,
                reviews: 75,
                downloads: 890,
                year: 2021,
                language: "Bahasa Indonesia",
                category: "Pendidikan",
                tags: ["Penelitian", "Pendidikan"],
                link: "https://pergunu.github.io/metode-penelitian",
                isNew: true
            },
            {
                id: 6,
                title: "Konsep Dasar Kimia",
                author: "Dr. Ir. Budi Santoso",
                cover: "https://images.unsplash.com/photo-1531346878377-a5be20888e57?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
                description: "Pengantar konsep dasar kimia untuk pemula dengan penjelasan yang mudah dipahami.",
                pages: 350,
                rating: 4.5,
                reviews: 60,
                downloads: 720,
                year: 2022,
                language: "Bahasa Indonesia",
                category: "Sains",
                tags: ["Kimia", "Dasar"],
                link: "https://pergunu.github.io/kimia-dasar"
            },
            {
                id: 7,
                title: "Filsafat Pendidikan Islam",
                author: "Dr. H. Abdul Malik",
                cover: "https://images.unsplash.com/photo-1589998059171-988d887df646?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
                description: "Kajian mendalam tentang filsafat pendidikan dalam perspektif Islam.",
                pages: 420,
                rating: 4.9,
                reviews: 110,
                downloads: 1800,
                year: 2020,
                language: "Bahasa Indonesia",
                category: "Agama",
                tags: ["Filsafat", "Pendidikan", "Islam"],
                link: "https://pergunu.github.io/filsafat-pendidikan",
                isPopular: true
            },
            {
                id: 8,
                title: "Pengantar Teknologi Informasi",
                author: "Dr. Eng. Rini Wijaya",
                cover: "https://images.unsplash.com/photo-1541963463532-d68292c34b19?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",
                description: "Pengenalan konsep dasar teknologi informasi untuk pemula.",
                pages: 300,
                rating: 4.7,
                reviews: 80,
                downloads: 950,
                year: 2023,
                language: "Bahasa Indonesia",
                category: "Teknologi",
                tags: ["Teknologi", "Informasi"],
                link: "https://pergunu.github.io/teknologi-informasi"
            }
        ];

        const SAMPLE_CATEGORIES = [
            { id: 1, name: "Agama", count: 245, icon: "book-quran" },
            { id: 2, name: "Pendidikan", count: 189, icon: "graduation-cap" },
            { id: 3, name: "Sains", count: 132, icon: "flask" },
            { id: 4, name: "Teknologi", count: 98, icon: "laptop-code" },
            { id: 5, name: "Sejarah", count: 76, icon: "landmark" },
            { id: 6, name: "Sastra", count: 65, icon: "book-open" },
            { id: 7, name: "Bisnis", count: 54, icon: "chart-line" },
            { id: 8, name: "Kesehatan", count: 43, icon: "heartbeat" }
        ];

        const SAMPLE_TESTIMONIALS = [
            {
                id: 1,
                name: "Siti Aminah",
                email: "siti.aminah@example.com",
                role: "Guru SMA Negeri 1 Situbondo",
                text: "Perpustakaan digital PERGUNU sangat membantu saya dalam menunjang pembelajaran. Koleksi bukunya lengkap dan mudah diakses kapan saja.",
                avatar: "https://randomuser.me/api/portraits/women/65.jpg",
                status: "approved"
            },
            {
                id: 2,
                name: "Budi Santoso",
                email: "budi.santoso@example.com",
                role: "Mahasiswa Universitas Jember",
                text: "Saya sangat terbantu dengan adanya perpustakaan digital ini. Bisa mengakses buku kapan saja dan di mana saja sangat memudahkan belajar.",
                avatar: "https://randomuser.me/api/portraits/men/32.jpg",
                status: "approved"
            },
            {
                id: 3,
                name: "Rina Wijaya",
                email: "rina.wijaya@example.com",
                role: "Dosen STIKES Situbondo",
                text: "Koleksi buku yang berkualitas dan interface yang user friendly membuat pengalaman membaca menjadi sangat menyenangkan.",
                avatar: "https://randomuser.me/api/portraits/women/44.jpg",
                status: "approved"
            }
        ];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize particles.js for background
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 60,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#3498db"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        }
                    },
                    "opacity": {
                        "value": 0.3,
                        "random": false,
                        "anim": {
                            "enable": false,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 3,
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 40,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#3498db",
                        "opacity": 0.2,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 0.5
                            }
                        },
                        "bubble": {
                            "distance": 400,
                            "size": 40,
                            "duration": 2,
                            "opacity": 8,
                            "speed": 3
                        },
                        "repulse": {
                            "distance": 200,
                            "duration": 0.4
                        },
                        "push": {
                            "particles_nb": 4
                        },
                        "remove": {
                            "particles_nb": 2
                        }
                    }
                },
                "retina_detect": true
            });
            
            // Load sample data
            books = SAMPLE_BOOKS;
            categories = SAMPLE_CATEGORIES;
            testimonials = SAMPLE_TESTIMONIALS;
            
            // Render initial data
            renderBooks();
            renderCategories();
            renderTestimonials();
            renderFooterCategories();
            
            // Check if user is logged in
            checkLoginStatus();
            
            // Event listeners
            mobileMenuBtn.addEventListener('click', toggleMobileMenu);
            loginLink.addEventListener('click', showLoginModal);
            closeLoginModal.addEventListener('click', hideLoginModal);
            closeRegisterModal.addEventListener('click', hideRegisterModal);
            showRegister.addEventListener('click', showRegisterModal);
            showLogin.addEventListener('click', showLoginModal);
            backToTopBtn.addEventListener('click', scrollToTop);
            adminBtn.addEventListener('click', showAdminAccessModal);
            whatsappBtn.addEventListener('click', openWhatsApp);
            closePreview.addEventListener('click', hideBookPreview);
            adminAccessSubmit.addEventListener('click', checkAdminAccess);
            adminAccessCancel.addEventListener('click', hideAdminAccessModal);
            adminLogout.addEventListener('click', logoutAdmin);
            readBookBtn.addEventListener('click', readBook);
            bookmarkBookBtn.addEventListener('click', toggleBookmark);
            closePdfReader.addEventListener('click', hidePdfReader);
            prevPageBtn.addEventListener('click', prevPage);
            nextPageBtn.addEventListener('click', nextPage);
            zoomInBtn.addEventListener('click', zoomIn);
            zoomOutBtn.addEventListener('click', zoomOut);
            addTestimonialBtn.addEventListener('click', showTestimonialModal);
            closeTestimonialModal.addEventListener('click', hideTestimonialModal);
            addBookBtn.addEventListener('click', showAddBookModal);
            closeAddBookModal.addEventListener('click', hideAddBookModal);
            addCategoryBtn.addEventListener('click', showAddCategoryModal);
            closeAddCategoryModal.addEventListener('click', hideAddCategoryModal);
            
            // Form submissions
            loginForm.addEventListener('submit', handleLogin);
            registerForm.addEventListener('submit', handleRegister);
            adminSettingsForm.addEventListener('submit', saveAdminSettings);
            testimonialForm.addEventListener('submit', handleTestimonialSubmit);
            bookForm.addEventListener('submit', handleBookSubmit);
            categoryForm.addEventListener('submit', handleCategorySubmit);
            
            // Admin menu tabs
            document.querySelectorAll('.admin-menu-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const tab = this.getAttribute('data-tab');
                    showAdminTab(tab);
                });
            });
            
            // Scroll event for progress bar
            window.addEventListener('scroll', updateProgressBar);
            
            // Play button sound for all buttons
            document.querySelectorAll('button').forEach(btn => {
                btn.addEventListener('click', function() {
                    if (!this.disabled) {
                        buttonSound.currentTime = 0;
                        buttonSound.play().catch(e => console.log("Button sound prevented:", e));
                    }
                });
            });
            
            // Initialize theme from localStorage
            initTheme();
            
            // Initialize admin settings
            initAdminSettings();
        });
        
        // Functions
        function toggleMobileMenu() {
            navMenu.classList.toggle('active');
        }
        
        function checkLoginStatus() {
            // In a real app, this would check with the server
            const token = localStorage.getItem('authToken');
            if (token) {
                currentUser = {
                    name: "John Doe",
                    email: "john@example.com",
                    avatar: "https://randomuser.me/api/portraits/men/1.jpg"
                };
                updateLoginUI();
            }
        }
        
        function updateLoginUI() {
            if (currentUser) {
                loginLink.innerHTML = `
                    <img src="${currentUser.avatar}" alt="User" style="width: 30px; height: 30px; border-radius: 50%; margin-right: 10px;">
                    ${currentUser.name.split(' ')[0]}
                `;
                loginLink.href = "#";
                loginLink.addEventListener('click', showUserDropdown);
            } else {
                loginLink.textContent = "Masuk";
                loginLink.href = "#";
                loginLink.addEventListener('click', showLoginModal);
            }
        }
        
        function showUserDropdown(e) {
            e.preventDefault();
            // In a real app, this would show a dropdown menu
            alert(`Selamat datang, ${currentUser.name}`);
        }
        
        function showLoginModal() {
            loginModal.style.display = 'flex';
            hideRegisterModal();
        }
        
        function hideLoginModal() {
            loginModal.style.display = 'none';
        }
        
        function showRegisterModal() {
            registerModal.style.display = 'flex';
            hideLoginModal();
        }
        
        function hideRegisterModal() {
            registerModal.style.display = 'none';
        }
        
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        function openWhatsApp() {
            const message = "Halo admin, saya ingin bertanya tentang perpustakaan digital.";
            const url = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }
        
        function showAdminAccessModal() {
            adminAccessModal.style.display = 'flex';
            adminAccessCode.value = '';
            adminAccessError.style.display = 'none';
        }
        
        function hideAdminAccessModal() {
            adminAccessModal.style.display = 'none';
        }
        
        function checkAdminAccess() {
            const enteredCode = adminAccessCode.value.trim();
            if (enteredCode === adminPassword) {
                hideAdminAccessModal();
                loadAdminPanel();
            } else {
                adminAccessError.style.display = 'block';
            }
        }
        
        function loadAdminPanel() {
            adminPanel.style.display = 'block';
            showAdminTab('dashboard');
            document.body.style.overflow = 'hidden';
            updateAdminStats();
            renderAdminBooks();
            renderAdminCategories();
            renderAdminTestimonials();
            populateCategorySelect();
        }
        
        function hideAdminPanel() {
            adminPanel.style.display = 'none';
            document.body.style.overflow = '';
        }
        
        function logoutAdmin() {
            hideAdminPanel();
            alert("Anda telah keluar dari panel admin.");
        }
        
        function showAdminTab(tab) {
            // Hide all tab contents
            document.querySelectorAll('.admin-tab-content').forEach(content => {
                content.style.display = 'none';
            });
            
            // Show selected tab content
            document.getElementById(`${tab}-tab`).style.display = 'block';
            
            // Update active menu item
            document.querySelectorAll('.admin-menu-link').forEach(link => {
                link.classList.remove('active');
            });
            
            document.querySelector(`.admin-menu-link[data-tab="${tab}"]`).classList.add('active');
            
            // Update title
            document.getElementById('admin-tab-title').textContent = 
                tab === 'dashboard' ? 'Dashboard' :
                tab === 'books' ? 'Manajemen Buku' :
                tab === 'categories' ? 'Kategori' :
                tab === 'testimonials' ? 'Testimoni' :
                tab === 'settings' ? 'Pengaturan' : '';
        }
        
        function updateAdminStats() {
            document.getElementById('total-books').textContent = books.length;
            document.getElementById('total-users').textContent = currentUser ? "1" : "0";
            document.getElementById('total-downloads').textContent = books.reduce((sum, book) => sum + book.downloads, 0);
            document.getElementById('total-categories').textContent = categories.length;
            
            // Update recent activities
            const activities = [
                { time: "10 menit lalu", user: "John Doe", activity: "Membaca buku", detail: "Pendidikan Karakter" },
                { time: "30 menit lalu", user: "Jane Smith", activity: "Mengunduh", detail: "Matematika Dasar" },
                { time: "1 jam lalu", user: "Bob Johnson", activity: "Mendaftar", detail: "Pengguna baru" },
                { time: "2 jam lalu", user: "Admin", activity: "Menambah buku", detail: "Sejarah Islam" }
            ];
            
            const activitiesTable = document.getElementById('recent-activities');
            activitiesTable.innerHTML = '';
            
            activities.forEach(activity => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${activity.time}</td>
                    <td>${activity.user}</td>
                    <td>${activity.activity}</td>
                    <td>${activity.detail}</td>
                `;
                activitiesTable.appendChild(row);
            });
        }
        
        function renderBooks() {
            const featuredSlider = document.getElementById('featured-slider');
            const booksGrid = document.getElementById('books-grid');
            
            // Clear existing content
            featuredSlider.innerHTML = '';
            booksGrid.innerHTML = '';
            
            // Render featured books
            const featuredBooks = books.filter(book => book.isFeatured);
            featuredBooks.forEach(book => {
                const slide = document.createElement('div');
                slide.className = 'featured-slide';
                slide.innerHTML = `
                    <img src="${book.cover}" alt="Book Cover" class="featured-cover">
                    <div class="featured-details">
                        <h3 class="featured-book-title">${book.title}</h3>
                        <p class="featured-book-author">Oleh: ${book.author}</p>
                        <p class="featured-book-description">${book.description}</p>
                        <button class="btn btn-primary btn-read" data-book-id="${book.id}">Baca Sekarang</button>
                    </div>
                `;
                featuredSlider.appendChild(slide);
            });
            
            // Render all books
            books.forEach(book => {
                const bookCard = document.createElement('div');
                bookCard.className = 'book-card';
                bookCard.setAttribute('data-id', book.id);
                
                let badge = '';
                if (book.isNew) {
                    badge = '<span class="book-badge">Baru</span>';
                } else if (book.isPopular) {
                    badge = '<span class="book-badge">Populer</span>';
                }
                
                bookCard.innerHTML = `
                    ${badge}
                    <img src="${book.cover}" alt="Book Cover" class="book-cover">
                    <div class="book-details">
                        <h3 class="book-title">${book.title}</h3>
                        <p class="book-author">Oleh: ${book.author}</p>
                        <div class="book-meta">
                            <span class="book-category">${book.category}</span>
                            <span class="book-rating">
                                <i class="fas fa-star"></i> ${book.rating}
                            </span>
                        </div>
                        <div class="book-actions" style="margin-top: 15px;">
                            <button class="btn btn-primary btn-read" data-book-id="${book.id}" style="flex: 1;">Baca</button>
                            <button class="btn btn-outline btn-bookmark" data-book-id="${book.id}">
                                <i class="far fa-bookmark"></i>
                            </button>
                        </div>
                    </div>
                `;
                booksGrid.appendChild(bookCard);
            });
            
            // Add event listeners to read buttons
            document.querySelectorAll('.btn-read').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookId = parseInt(this.getAttribute('data-book-id'));
                    showBookPreview(bookId);
                });
            });
            
            // Add event listeners to bookmark buttons
            document.querySelectorAll('.btn-bookmark').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookId = parseInt(this.getAttribute('data-book-id'));
                    addToReadingList(bookId);
                });
            });
        }
        
        function renderCategories() {
            const categoriesList = document.getElementById('categories-list');
            categoriesList.innerHTML = '';
            
            categories.forEach(category => {
                const categoryCard = document.createElement('div');
                categoryCard.className = 'category-card';
                categoryCard.innerHTML = `
                    <div class="category-icon">
                        <i class="fas fa-${category.icon}"></i>
                    </div>
                    <h3 class="category-title">${category.name}</h3>
                    <p class="category-count">${category.count} Buku</p>
                `;
                categoriesList.appendChild(categoryCard);
            });
        }
        
        function renderFooterCategories() {
            const footerCategories = document.getElementById('footer-categories');
            footerCategories.innerHTML = '';
            
            // Show only 5 popular categories in footer
            const popularCategories = [...categories].sort((a, b) => b.count - a.count).slice(0, 5);
            
            popularCategories.forEach(category => {
                const item = document.createElement('li');
                item.className = 'footer-link-item';
                item.innerHTML = `<a href="#" class="footer-link">${category.name}</a>`;
                footerCategories.appendChild(item);
            });
        }
        
        function renderTestimonials() {
            const testimonialsContainer = document.getElementById('testimonials-container');
            testimonialsContainer.innerHTML = '';
            
            const approvedTestimonials = testimonials.filter(t => t.status === 'approved');
            
            approvedTestimonials.forEach(testimonial => {
                const testimonialCard = document.createElement('div');
                testimonialCard.className = 'testimonial-card';
                testimonialCard.innerHTML = `
                    <p class="testimonial-text">${testimonial.text}</p>
                    <div class="testimonial-author">
                        <img src="${testimonial.avatar}" alt="User" class="testimonial-avatar">
                        <div>
                            <h4 class="testimonial-name">${testimonial.name}</h4>
                            <p class="testimonial-role">${testimonial.role}</p>
                        </div>
                    </div>
                `;
                testimonialsContainer.appendChild(testimonialCard);
            });
        }
        
        function renderAdminBooks() {
            const booksTableBody = document.getElementById('books-table-body');
            booksTableBody.innerHTML = '';
            
            books.forEach(book => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><img src="${book.cover}" width="50" style="border-radius: 4px;"></td>
                    <td>${book.title}</td>
                    <td>${book.author}</td>
                    <td>${book.category}</td>
                    <td><a href="${book.link}" target="_blank">Baca</a></td>
                    <td>
                        <div class="table-actions">
                            <button class="btn btn-sm btn-info" data-book-id="${book.id}"><i class="fas fa-edit"></i></button>
                            <button class="btn btn-sm btn-danger" data-book-id="${book.id}"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                `;
                booksTableBody.appendChild(row);
            });
            
            // Add event listeners to edit and delete buttons
            document.querySelectorAll('#books-table-body .btn-info').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookId = parseInt(this.getAttribute('data-book-id'));
                    editBook(bookId);
                });
            });
            
            document.querySelectorAll('#books-table-body .btn-danger').forEach(btn => {
                btn.addEventListener('click', function() {
                    const bookId = parseInt(this.getAttribute('data-book-id'));
                    deleteBook(bookId);
                });
            });
        }
        
        function renderAdminCategories() {
            const categoriesTableBody = document.getElementById('categories-table-body');
            categoriesTableBody.innerHTML = '';
            
            categories.forEach(category => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${category.name}</td>
                    <td>${category.count}</td>
                    <td><i class="fas fa-${category.icon}"></i></td>
                    <td>
                        <div class="table-actions">
                            <button class="btn btn-sm btn-info" data-category-id="${category.id}"><i class="fas fa-edit"></i></button>
                            <button class="btn btn-sm btn-danger" data-category-id="${category.id}"><i class="fas fa-trash"></i></button>
                        </div>
                    </td>
                `;
                categoriesTableBody.appendChild(row);
            });
            
            // Add event listeners to edit and delete buttons
            document.querySelectorAll('#categories-table-body .btn-info').forEach(btn => {
                btn.addEventListener('click', function() {
                    const categoryId = parseInt(this.getAttribute('data-category-id'));
                    editCategory(categoryId);
                });
            });
            
            document.querySelectorAll('#categories-table-body .btn-danger').forEach(btn => {
                btn.addEventListener('click', function() {
                    const categoryId = parseInt(this.getAttribute('data-category-id'));
                    deleteCategory(categoryId);
                });
            });
        }
        
        function renderAdminTestimonials() {
            const testimonialsTableBody = document.getElementById('testimonials-table-body');
            testimonialsTableBody.innerHTML = '';
            
            testimonials.forEach(testimonial => {
                const statusBadge = testimonial.status === 'approved' ? 
                    '<span class="badge badge-success">Disetujui</span>' : 
                    '<span class="badge badge-warning">Menunggu</span>';
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${testimonial.name}</td>
                    <td>${testimonial.email}</td>
                    <td>${testimonial.role}</td>
                    <td>${testimonial.text.substring(0, 50)}...</td>
                    <td>${statusBadge}</td>
                    <td>
                        <div class="table-actions">
                            <button class="btn btn-sm btn-info" data-testimonial-id="${testimonial.id}"><i class="fas fa-edit"></i></button>
                            <button class="btn btn-sm btn-danger" data-testimonial-id="${testimonial.id}"><i class="fas fa-trash"></i></button>
                            ${testimonial.status !== 'approved' ? 
                                '<button class="btn btn-sm btn-success" data-testimonial-id="' + testimonial.id + '"><i class="fas fa-check"></i></button>' : ''}
                        </div>
                    </td>
                `;
                testimonialsTableBody.appendChild(row);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('#testimonials-table-body .btn-info').forEach(btn => {
                btn.addEventListener('click', function() {
                    const testimonialId = parseInt(this.getAttribute('data-testimonial-id'));
                    editTestimonial(testimonialId);
                });
            });
            
            document.querySelectorAll('#testimonials-table-body .btn-danger').forEach(btn => {
                btn.addEventListener('click', function() {
                    const testimonialId = parseInt(this.getAttribute('data-testimonial-id'));
                    deleteTestimonial(testimonialId);
                });
            });
            
            document.querySelectorAll('#testimonials-table-body .btn-success').forEach(btn => {
                btn.addEventListener('click', function() {
                    const testimonialId = parseInt(this.getAttribute('data-testimonial-id'));
                    approveTestimonial(testimonialId);
                });
            });
        }
        
        function populateCategorySelect() {
            bookCategorySelect.innerHTML = '';
            
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.name;
                option.textContent = category.name;
                bookCategorySelect.appendChild(option);
            });
        }
        
        function showBookPreview(bookId) {
            currentBook = books.find(b => b.id === bookId) || books[0];
            
            // Update preview content
            document.getElementById('preview-book-cover').src = currentBook.cover;
            document.getElementById('preview-book-title').textContent = currentBook.title;
            document.getElementById('preview-book-author').textContent = `Oleh: ${currentBook.author}`;
            document.getElementById('preview-book-description').textContent = currentBook.description;
            document.getElementById('preview-book-pages').textContent = `${currentBook.pages} Halaman`;
            document.getElementById('preview-book-rating').textContent = `${currentBook.rating} (${currentBook.reviews} Ulasan)`;
            document.getElementById('preview-book-downloads').textContent = `${currentBook.downloads.toLocaleString()} Unduhan`;
            document.getElementById('preview-book-tags').textContent = currentBook.tags.join(', ');
            document.getElementById('preview-book-year').textContent = currentBook.year;
            document.getElementById('preview-book-language').textContent = currentBook.language;
            document.getElementById('preview-book-reviews').textContent = `(${currentBook.reviews} ulasan)`;
            
            // Update rating stars
            const starsContainer = document.getElementById('preview-book-stars');
            starsContainer.innerHTML = '';
            
            const fullStars = Math.floor(currentBook.rating);
            const hasHalfStar = currentBook.rating % 1 >= 0.5;
            
            for (let i = 0; i < fullStars; i++) {
                const star = document.createElement('i');
                star.className = 'fas fa-star';
                starsContainer.appendChild(star);
            }
            
            if (hasHalfStar) {
                const halfStar = document.createElement('i');
                halfStar.className = 'fas fa-star-half-alt';
                starsContainer.appendChild(halfStar);
            }
            
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            for (let i = 0; i < emptyStars; i++) {
                const star = document.createElement('i');
                star.className = 'far fa-star';
                starsContainer.appendChild(star);
            }
            
            // Update bookmark button
            const isBookmarked = readingList.some(book => book.id === currentBook.id);
            bookmarkBookBtn.innerHTML = isBookmarked ? 
                '<i class="fas fa-bookmark"></i> Disimpan' : 
                '<i class="far fa-bookmark"></i> Simpan';
            
            // Show preview
            bookPreview.classList.add('active');
        }
        
        function hideBookPreview() {
            bookPreview.classList.remove('active');
        }
        
        function readBook() {
            if (!currentUser) {
                showLoginModal();
                return;
            }
            
            if (currentBook) {
                // Check if the book is a PDF
                if (currentBook.link.toLowerCase().endsWith('.pdf')) {
                    showPdfReader(currentBook.link);
                } else {
                    // Open the book link in a new tab
                    window.open(currentBook.link, '_blank');
                }
                
                // Increment downloads count
                currentBook.downloads++;
                hideBookPreview();
            }
        }
        
        function showPdfReader(pdfUrl) {
            pdfReaderTitle.textContent = `Membaca: ${currentBook.title}`;
            pdfReaderModal.style.display = 'flex';
            
            // Reset PDF viewer state
            currentPage = 1;
            pdfScale = 1.0;
            pageNumSpan.textContent = 'Halaman 1';
            zoomLevelSpan.textContent = '100%';
            
            // Load the PDF
            pdfjsLib.getDocument(pdfUrl).promise.then(function(pdf) {
                currentPdf = pdf;
                renderPdfPage();
            }).catch(function(error) {
                console.error('Error loading PDF:', error);
                alert('Gagal memuat PDF. Silakan coba lagi.');
                hidePdfReader();
            });
        }
        
        function renderPdfPage() {
            if (!currentPdf) return;
            
            currentPdf.getPage(currentPage).then(function(page) {
                const viewport = page.getViewport({ scale: pdfScale });
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.height = viewport.height;
                canvas.width = viewport.width;
                
                // Render PDF page into canvas context
                const renderContext = {
                    canvasContext: context,
                    viewport: viewport
                };
                
                page.render(renderContext).promise.then(function() {
                    // Convert canvas to image and display in iframe
                    const imgData = canvas.toDataURL('image/png');
                    pdfViewer.srcdoc = `
                        <!DOCTYPE html>
                        <html>
                        <head>
                            <style>
                                body { margin: 0; padding: 0; }
                                img { width: 100%; height: auto; }
                            </style>
                        </head>
                        <body>
                            <img src="${imgData}">
                        </body>
                        </html>
                    `;
                    
                    // Update page info
                    pageNumSpan.textContent = `Halaman ${currentPage} dari ${currentPdf.numPages}`;
                    zoomLevelSpan.textContent = `${Math.round(pdfScale * 100)}%`;
                    
                    // Enable/disable navigation buttons
                    prevPageBtn.disabled = currentPage <= 1;
                    nextPageBtn.disabled = currentPage >= currentPdf.numPages;
                });
            });
        }
        
        function hidePdfReader() {
            pdfReaderModal.style.display = 'none';
            currentPdf = null;
        }
        
        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                renderPdfPage();
            }
        }
        
        function nextPage() {
            if (currentPdf && currentPage < currentPdf.numPages) {
                currentPage++;
                renderPdfPage();
            }
        }
        
        function zoomIn() {
            if (pdfScale < 2.0) {
                pdfScale += 0.1;
                renderPdfPage();
            }
        }
        
        function zoomOut() {
            if (pdfScale > 0.5) {
                pdfScale -= 0.1;
                renderPdfPage();
            }
        }
        
        function toggleBookmark() {
            if (!currentUser) {
                showLoginModal();
                return;
            }
            
            if (currentBook) {
                const isBookmarked = readingList.some(book => book.id === currentBook.id);
                
                if (isBookmarked) {
                    readingList = readingList.filter(book => book.id !== currentBook.id);
                    bookmarkBookBtn.innerHTML = '<i class="far fa-bookmark"></i> Simpan';
                    alert(`"${currentBook.title}" telah dihapus dari daftar bacaan Anda.`);
                } else {
                    readingList.push(currentBook);
                    bookmarkBookBtn.innerHTML = '<i class="fas fa-bookmark"></i> Disimpan';
                    notificationSound.play().catch(e => console.log("Notification sound prevented:", e));
                    alert(`"${currentBook.title}" telah ditambahkan ke daftar bacaan Anda.`);
                }
            }
        }
        
        function addToReadingList(bookId) {
            if (!currentUser) {
                showLoginModal();
                return;
            }
            
            const book = books.find(b => b.id === bookId);
            if (book) {
                const isBookmarked = readingList.some(b => b.id === bookId);
                
                if (isBookmarked) {
                    alert(`"${book.title}" sudah ada dalam daftar bacaan Anda.`);
                } else {
                    readingList.push(book);
                    notificationSound.play().catch(e => console.log("Notification sound prevented:", e));
                    alert(`"${book.title}" telah ditambahkan ke daftar bacaan Anda.`);
                }
            }
        }
        
        function showTestimonialModal() {
            testimonialModal.style.display = 'flex';
        }
        
        function hideTestimonialModal() {
            testimonialModal.style.display = 'none';
            testimonialForm.reset();
        }
        
        function handleTestimonialSubmit(e) {
            e.preventDefault();
            
            const name = document.getElementById('testimonial-name').value;
            const email = document.getElementById('testimonial-email').value;
            const role = document.getElementById('testimonial-role').value;
            const text = document.getElementById('testimonial-text').value;
            
            // Create new testimonial
            const newTestimonial = {
                id: testimonials.length + 1,
                name: name,
                email: email,
                role: role,
                text: text,
                avatar: `https://randomuser.me/api/portraits/${Math.random() > 0.5 ? 'men' : 'women'}/${Math.floor(Math.random() * 100)}.jpg`,
                status: 'pending'
            };
            
            testimonials.push(newTestimonial);
            
            // Show success message
            alert('Terima kasih atas testimoni Anda! Testimoni akan ditampilkan setelah disetujui oleh admin.');
            
            // Hide modal and reset form
            hideTestimonialModal();
            
            // If admin is viewing testimonials, refresh the list
            if (adminPanel.style.display === 'block') {
                renderAdminTestimonials();
            }
        }
        
        function showAddBookModal() {
            addBookModal.style.display = 'flex';
            bookForm.reset();
        }
        
        function hideAddBookModal() {
            addBookModal.style.display = 'none';
        }
        
        function handleBookSubmit(e) {
            e.preventDefault();
            
            // Create new book
            const newBook = {
                id: books.length + 1,
                title: document.getElementById('book-title').value,
                author: document.getElementById('book-author').value,
                cover: document.getElementById('book-cover-url').value || 'https://via.placeholder.com/500x750?text=No+Cover',
                description: document.getElementById('book-description').value,
                pages: parseInt(document.getElementById('book-pages').value),
                rating: 4.5, // Default rating
                reviews: 0,
                downloads: 0,
                year: parseInt(document.getElementById('book-year').value),
                language: document.getElementById('book-language').value,
                category: document.getElementById('book-category').value,
                tags: [],
                link: document.getElementById('book-link').value,
                isFeatured: document.getElementById('book-featured').checked,
                isNew: true
            };
            
            books.push(newBook);
            
            // Update category count
            const category = categories.find(c => c.name === newBook.category);
            if (category) {
                category.count++;
            }
            
            // Show success message
            alert('Buku baru berhasil ditambahkan!');
            
            // Hide modal and reset form
            hideAddBookModal();
            
            // Refresh books display
            renderBooks();
            renderCategories();
            renderAdminBooks();
            renderAdminCategories();
        }
        
        function editBook(bookId) {
            const book = books.find(b => b.id === bookId);
            if (!book) return;
            
            // Fill form with book data
            document.getElementById('book-title').value = book.title;
            document.getElementById('book-author').value = book.author;
            document.getElementById('book-cover-url').value = book.cover;
            document.getElementById('book-description').value = book.description;
            document.getElementById('book-pages').value = book.pages;
            document.getElementById('book-year').value = book.year;
            document.getElementById('book-language').value = book.language;
            document.getElementById('book-category').value = book.category;
            document.getElementById('book-link').value = book.link;
            document.getElementById('book-featured').checked = book.isFeatured;
            
            // Show modal
            showAddBookModal();
            
            // TODO: Update form to handle editing (need to track which book is being edited)
        }
        
        function deleteBook(bookId) {
            if (confirm('Apakah Anda yakin ingin menghapus buku ini?')) {
                // Remove book
                books = books.filter(b => b.id !== bookId);
                
                // Update category counts
                categories.forEach(category => {
                    category.count = books.filter(b => b.category === category.name).length;
                });
                
                // Refresh display
                renderBooks();
                renderCategories();
                renderAdminBooks();
                renderAdminCategories();
                
                alert('Buku berhasil dihapus!');
            }
        }
        
        function showAddCategoryModal() {
            addCategoryModal.style.display = 'flex';
            categoryForm.reset();
        }
        
        function hideAddCategoryModal() {
            addCategoryModal.style.display = 'none';
        }
        
        function handleCategorySubmit(e) {
            e.preventDefault();
            
            // Create new category
            const newCategory = {
                id: categories.length + 1,
                name: document.getElementById('category-name').value,
                count: 0,
                icon: document.getElementById('category-icon').value.replace('fas fa-', '')
            };
            
            categories.push(newCategory);
            
            // Show success message
            alert('Kategori baru berhasil ditambahkan!');
            
            // Hide modal and reset form
            hideAddCategoryModal();
            
            // Refresh categories display
            renderCategories();
            renderAdminCategories();
            populateCategorySelect();
        }
        
        function editCategory(categoryId) {
            const category = categories.find(c => c.id === categoryId);
            if (!category) return;
            
            // Fill form with category data
            document.getElementById('category-name').value = category.name;
            document.getElementById('category-icon').value = `fas fa-${category.icon}`;
            
            // Show modal
            showAddCategoryModal();
            
            // TODO: Update form to handle editing (need to track which category is being edited)
        }
        
        function deleteCategory(categoryId) {
            const category = categories.find(c => c.id === categoryId);
            if (!category) return;
            
            // Check if category is used by any books
            const booksInCategory = books.filter(b => b.category === category.name);
            if (booksInCategory.length > 0) {
                alert(`Tidak dapat menghapus kategori ini karena terdapat ${booksInCategory.length} buku yang menggunakan kategori ini.`);
                return;
            }
            
            if (confirm('Apakah Anda yakin ingin menghapus kategori ini?')) {
                // Remove category
                categories = categories.filter(c => c.id !== categoryId);
                
                // Refresh display
                renderCategories();
                renderAdminCategories();
                populateCategorySelect();
                
                alert('Kategori berhasil dihapus!');
            }
        }
        
        function editTestimonial(testimonialId) {
            const testimonial = testimonials.find(t => t.id === testimonialId);
            if (!testimonial) return;
            
            // Fill form with testimonial data
            document.getElementById('testimonial-name').value = testimonial.name;
            document.getElementById('testimonial-email').value = testimonial.email;
            document.getElementById('testimonial-role').value = testimonial.role;
            document.getElementById('testimonial-text').value = testimonial.text;
            
            // Show modal
            showTestimonialModal();
            
            // TODO: Update form to handle editing (need to track which testimonial is being edited)
        }
        
        function deleteTestimonial(testimonialId) {
            if (confirm('Apakah Anda yakin ingin menghapus testimoni ini?')) {
                // Remove testimonial
                testimonials = testimonials.filter(t => t.id !== testimonialId);
                
                // Refresh display
                renderTestimonials();
                renderAdminTestimonials();
                
                alert('Testimoni berhasil dihapus!');
            }
        }
        
        function approveTestimonial(testimonialId) {
            const testimonial = testimonials.find(t => t.id === testimonialId);
            if (testimonial) {
                testimonial.status = 'approved';
                
                // Refresh display
                renderTestimonials();
                renderAdminTestimonials();
                
                alert('Testimoni telah disetujui dan akan ditampilkan!');
            }
        }
        
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // In a real app, this would validate with the server
            if (email && password) {
                currentUser = {
                    name: "John Doe",
                    email: email,
                    avatar: "https://randomuser.me/api/portraits/men/1.jpg"
                };
                
                // Simulate saving token
                localStorage.setItem('authToken', 'sample-token');
                
                updateLoginUI();
                hideLoginModal();
                alert("Anda berhasil masuk!");
            } else {
                alert("Silakan isi email dan password dengan benar.");
            }
        }
        
        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('register-confirm').value;
            
            if (password !== confirmPassword) {
                alert("Password dan konfirmasi password tidak cocok!");
                return;
            }
            
            // In a real app, this would register with the server
            if (name && email && password) {
                currentUser = {
                    name: name,
                    email: email,
                    avatar: "https://randomuser.me/api/portraits/men/1.jpg"
                };
                
                // Simulate saving token
                localStorage.setItem('authToken', 'sample-token');
                
                updateLoginUI();
                hideRegisterModal();
                alert("Pendaftaran berhasil! Anda sekarang masuk.");
            } else {
                alert("Silakan isi semua field dengan benar.");
            }
        }
        
        function saveAdminSettings(e) {
            e.preventDefault();
            
            // Update admin password
            adminPassword = adminPasswordInput.value;
            
            // Update WhatsApp number
            whatsappNumber = whatsappNumberInput.value;
            
            // Update theme
            const darkModeToggle = document.getElementById('dark-mode-toggle');
            if (darkModeToggle.checked) {
                document.body.classList.add('dark-theme');
                localStorage.setItem('theme', 'dark');
            } else {
                document.body.classList.remove('dark-theme');
                localStorage.setItem('theme', 'light');
            }
            
            alert("Pengaturan berhasil disimpan!");
        }
        
        function initAdminSettings() {
            adminPasswordInput.value = adminPassword;
            whatsappNumberInput.value = whatsappNumber;
        }
        
        function updateProgressBar() {
            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrollProgress = (scrollTop / scrollHeight) * 100;
            progressBar.style.width = scrollProgress + '%';
            
            // Show/hide back to top button
            if (scrollTop > 300) {
                backToTopBtn.style.display = 'flex';
            } else {
                backToTopBtn.style.display = 'none';
            }
        }
        
        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            const darkModeToggle = document.getElementById('dark-mode-toggle');
            
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                if (darkModeToggle) {
                    darkModeToggle.checked = true;
                }
            }
        }
    </script>
</body>
</html>
